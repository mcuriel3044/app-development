!function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=8)}([function(e,t){var n=function(){function e(e,t,n){d[e]&&d[e][t]&&Object.values(d[e][t]).forEach(function(e){e(n)})}function t(t,n){if("boolean"!=typeof n)throw new TypeError("cookieConsent (setConsent): consent values should be of type boolean. Check value for "+t+".");var i=l[t];i!==n&&(l[t]=n,void 0===i&&e(t,"add",n),!0===i?(e(t,"disable",n),e(t,"change",n)):!1===i?(e(t,"enable",n),e(t,"change",n)):e(t,"change",n))}function n(){d[this.consentKey]&&d[this.consentKey][this.eventName]&&delete d[this.consentKey][this.eventName][this.key]}function i(){return u}function r(e,t){if(!s){if(u=!!t)return s=!0,!0;if(!e||Array.isArray(e)||"object"!=typeof e)throw new TypeError("cookieConsent (init): consent should be an object.");for(var n=Object.keys(e),i=0;i<n.length;i++)if("boolean"!=typeof e[n[i]])throw new TypeError("cookieConsent (init): consent values for "+n[i]+" should be of type boolean.");return l=Object.assign({},e),s=!0,!0}return!1}function o(e){return!!u||l[e]}function a(e){if(s&&!u){if(!e||Array.isArray(e)||"object"!=typeof e)throw new TypeError("cookieConsent (setConsent): consent should be an object.");for(var n=Object.keys(e),i=0;i<n.length;i++)t(n[i],e[n[i]]);return!0}return!1}function c(e,t,i){if("string"!=typeof e)throw new TypeError("cookieConsent (subscribe): consent key should be of type string.");if("string"!=typeof t)throw new TypeError("cookieConsent (subscribe): event name should be of type string.");if(!p.includes(t))throw new TypeError("cookieConsent (subscribe): event name should be one of "+p.join(", ")+".");if("function"!=typeof i)throw new TypeError("cookieConsent (subscribe): callback should be a function.");d[e]||(d[e]={}),d[e][t]||(d[e][t]={});var r=Math.random().toString(36).substr(2,5);return d[e][t][r]=i,{unsubscribe:n.bind({consentKey:e,eventName:t,key:r})}}var s=!1,u=!0,l={},d={},p=["add","enable","disable","change"];return{initConsent:r,getConsent:o,getConsentDisabled:i,setConsent:a,subscribe:c}}();e.exports=n},function(e,t,n){function i(e){var t=n(3).default;window.crl8.metrics=window.crl8.metrics||new t;var i=e.pixelId,r=!!e.useDebug&&e.useDebug;window.crl8.pixel=window.crl8.pixel||{},window.crl8.pixel.q=window.crl8.pixel.q||[];var o=[["init",i,r]].concat(window.crl8.pixel.q);window.crl8.pixel=n(4).default(o)}window.crl8=window.crl8||{},window.crl8.EventBus&&console.error("[crl8] Duplicate site.js files detected. This will cause errors with your Curalate fanreels. Remove the duplicate Curalate snippet to prevent the errors."),n(2),window.crl8.EventBus&&window.crl8.EventBus.addEventListener("initializeCuralatePixel",function(e){function t(e){var t=e.split(".");return-1!==["co","com"].indexOf(t[t.length-2])?t.slice(-3).join("."):t.slice(-2).join(".")}if(e.cookieConsent){var r=n(0),o=n(5);window.crl8.cookieConsent=r,window.crl8.cookie=o,r.initConsent({"crl8.fpcuid":!1},!1),r.subscribe("crl8.fpcuid","enable",function(t){i(e),"true"!==localStorage.getItem("cookieConsent")&&window.crl8.getAllExperiences().then(function(e){e.forEach(function(e){var t=Object.assign({},e.options.metrics);t.clientApiToken=e.options.clientApiToken||{},e.options.siteName&&(t.siteName=e.options.siteName);var n=window.crl8.metrics.init(e.options.experienceId,t);n&&n.config?(e.options.metrics.fpcuid=n.config.fpcuid,e.options.metrics.requestId=n.config.rid):(e.options.metrics.fpcuid="",e.options.metrics.requestId=""),crl8.updateExperience(e.options.containerId,e.options)})})});var a=t(document.domain);r.subscribe("crl8.fpcuid","disable",function(e){o.remove("crl8.fpcuid",a),window.crl8.metrics=void 0,window.crl8.pixel=void 0}),r.subscribe("crl8.fpcuid","change",function(e){localStorage.setItem("cookieConsent",e)});var c=localStorage.getItem("cookieConsent");"true"===c&&r.setConsent({"crl8.fpcuid":!0}),!c&&o.remove("crl8.fpcuid",a)}else i(e)})},function(e,t){!function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(i,r,function(t){return e[t]}.bind(null,r));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,n){e.exports=function(){"use strict";function e(e,t){return!1!==t.clone&&t.isMergeableObject(e)?i((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function t(t,n,i){return t.concat(n).map(function(t){return e(t,i)})}function n(t,n,r){var o={};return r.isMergeableObject(t)&&Object.keys(t).forEach(function(n){o[n]=e(t[n],r)}),Object.keys(n).forEach(function(a){r.isMergeableObject(n[a])&&t[a]?o[a]=function(e,t){if(!t.customMerge)return i;var n=t.customMerge(e);return"function"==typeof n?n:i}(a,r)(t[a],n[a],r):o[a]=e(n[a],r)}),o}function i(i,o,a){(a=a||{}).arrayMerge=a.arrayMerge||t,a.isMergeableObject=a.isMergeableObject||r;var c=Array.isArray(o);return c===Array.isArray(i)?c?a.arrayMerge(i,o,a):n(i,o,a):e(o,a)}var r=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===o}(e)}(e)},o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;return i.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,n){return i(e,n,t)},{})},i}()},function(e,t,n){"use strict";function i(){return F.name}function r(e){throw new Error(Q(e))}function o(e){var t;e.nodeType===Node.ELEMENT_NODE&&e.getAttribute&&(((t=e).getAttribute(D.CONTAINER_ID)||t.getAttribute(D.DATA_CONTAINER_ID))&&U?U(e,!0):e.hasChildNodes()&&Array.prototype.forEach.call(e.childNodes,o))}function a(e){e.forEach(function(e){"childList"===e.type&&e.addedNodes&&Array.prototype.forEach.call(e.addedNodes,o)})}function c(e){var t=i(),n=B.crl8&&B.crl8[t]&&B.crl8[t].bootloader&&!1===B.crl8[t].bootloader.isMutationObserverEnabled;U=e,n||(G=function(e){try{return e?new MutationObserver(e):null}catch(e){return Q("[ec:00050001] Could not create experience container mutation observer. - ".concat(e)),null}}(a))&&(G.observe(document.body,X),K=B.setTimeout(function(){G&&G.disconnect()},15e3))}function s(e,t,n){return t}function u(e){var t=e.callback,n=e.options,i=void 0===n?{root:null,rootMargin:"50px",threshold:0}:n;return i&&t&&"IntersectionObserver"in B&&"IntersectionObserverEntry"in B&&"intersectionRatio"in B.IntersectionObserverEntry.prototype?new IntersectionObserver(function(e,n){e.forEach(function(e){t(e,n)})},i):null}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){var t=e.allParams,n=e.permalinkOptions,i=e.permalinkType,r=e.permalinkValue,o=window.location,a=o.hash,c=o.origin,s=o.pathname,u=Object.keys(t).map(function(e){var n=t[e];return e===q.PERMALINK_MAP?n=btoa(JSON.stringify(t[e])):"object"===p(t[e])&&(n=JSON.stringify(t[e])),"".concat(e,"=").concat(encodeURIComponent(n))}),f=c+s+(u.length?"?".concat(u.join("&")):"")+a;n&&n.pushHistoryState?window.history.pushState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){d(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({permalinkType:i,permalinkValue:r},n),document.title||"",f):window.history.replaceState(window.history.state,document.title||"",f)}function g(e){var t,n=e.containerId,i=e.siteName,r=e.permalinkOptions,o=e.permalinkType,a=e.permalinkValue,c=e.queryParams,s=c.allParams,u=void 0===s?{}:s,l=c.permalinkMap,d=void 0===l?{}:l;if(i&&n)if(o&&a&&Object.keys(a).length>0)d[i]=d[i]||{},d[i][n]=d[i][n]||{},d[i][n][o]=a,u[q.PERMALINK_MAP]=d;else{var p=d[i]&&d[i][n];p&&p[o]&&(delete p[o],t=d,Object.keys(t).some(function(e){return Object.keys(t[e]).some(function(n){var i=t[e][n];return Object.keys(i).length>0})})||delete u[q.PERMALINK_MAP])}f({allParams:u,permalinkOptions:r,permalinkType:o,permalinkValue:a})}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){v(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e){var t=W.versionMap[e]||"latest",n=i(),r=B.crl8&&B.crl8[n]&&B.crl8[n].bootloader&&B.crl8[n].bootloader&&B.crl8[n].bootloader.cdnPath;return"".concat((W.shouldSkipCDN?j.SITES_S3:r||j.SITES_CDN)+n,"/experiences/").concat(e,"/").concat(t,"/")}function E(e){return"".concat(b(e),"assets/")}function I(e){var t=i();return W.permalinkMap[t]&&W.permalinkMap[t][e]||{}}function T(e){return ee[e]||(ee[e]=J.fetchScript(function(e){return b(e)+(B.crl8.debug?"experience.js":"experience.min.js")}(e)).then(function(){return ee[e]})),ee[e]}function w(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=i(),o=n.containerSelector,a=n.isMutationObserverInit,c=void 0!==a&&a,u=n.optionsOverrides,l=void 0===u?{}:u;if(!r)return Promise.reject({message:Q("[ec:00000003] Site name has not been set. Experience ".concat(e," cannot be created until the site name has been set."))});if(!e)return Promise.reject({message:Q("[ec:00020001] Cannot initialize experience with undefined containerId.")});if(te[e])return!c||c&&B.crl8&&B.crl8.debug?Promise.reject({containerSelector:o,message:Q("[ec:00020002] Cannot initialize experience for container ".concat(e,". It already has been initialized."))}):Promise.resolve();if(!t)return Promise.reject({containerSelector:o,message:Q("[ec:00010001] Cannot initialize experience for container ".concat(o,". The element cannot be found on the page."))});var d=W.experienceMap[e]?Promise.resolve(W.experienceMap[e]):ne(e),p={containerId:e,elem:t,destroyed:!1,experienceName:null,experienceNamePromise:d,instance:null,instancePromise:null};return te[e]=p,p.instancePromise=d.then(function(n){return p.experienceName=n,T(n).then(function(i){if(p.destroyed)throw new Error("[ec:00020003] Experience ".concat(n," was destroyed before it finished fetching the constructor"));if("function"!=typeof i)throw new Error("[ec:00020004] Invalid constructor for experience ".concat(n));var o=x.a.all([$[n]||{},Z[e]||{},l||{},{assetPath:E(n)}||{},W.optionsOverridesMap[e]||{},{permalink:I(e)}||{},{siteName:r}],{arrayMerge:s});return p.instance=new i(t,o),B.crl8.EventBus.dispatchEvent(L.EXPERIENCE_READY,p),Promise.resolve(p.instance)}).catch(function(t){return Promise.reject({containerSelector:o,experienceName:n,message:"[ec:00020005] Curalate: Could not load experience ".concat(n," for container ").concat(e,". - ").concat(t),error:t})})}),p.instancePromise}function A(e,t){e.isIntersecting&&(w(e.target.getAttribute(D.CONTAINER_ID)||e.target.getAttribute(D.DATA_CONTAINER_ID),e.target),t.unobserve(e.target))}function O(e){var t=e.elem,n=e.isDataContainer?D.DATA_AUTO_INIT:D.AUTO_INIT;return!("false"===t.getAttribute(n))}function _(e){var t=e.elem,n=e.isDataContainer?D.DATA_LAZY_LOAD:D.LAZY_LOAD;return"true"===t.getAttribute(n)}function C(e,t){var n=e.getAttribute(D.CONTAINER_ID),i=e.getAttribute(D.DATA_CONTAINER_ID);if(n&&O({elem:e,isDataContainer:!1})){if(!_({elem:e,isDataContainer:!1})||!V)return w(n,e,{isMutationObserverInit:t});V.observe(e)}if(i&&O({elem:e,isDataContainer:!0})){if(!_({elem:e,isDataContainer:!0})||!V)return w(i,e,{isMutationObserverInit:t});V.observe(e)}return Promise.resolve(null)}function P(){V=u({callback:A});var e,t=(e="[".concat(D.CONTAINER_ID,"],[").concat(D.DATA_CONTAINER_ID,"]"),document.querySelectorAll(e));Array.prototype.forEach.call(t,function(e){return C(e,!1)}),c(C)}function k(e){return e.destroyed=!0,delete te[e.containerId],e.instance?e.instance.destroy():Promise.resolve()}function R(e){var t=this;return function(n){var i=null,o=null;if("string"==typeof n)i=n,o=document.querySelector("[".concat(D.CONTAINER_ID,'="').concat(i,'"]'))||document.querySelector("[".concat(D.DATA_CONTAINER_ID,'="').concat(i,'"]'));else if(n instanceof Element){if(!(i=(o=n).getAttribute(D.CONTAINER_ID)||o.getAttribute(D.DATA_CONTAINER_ID)))return Promise.reject({containerSelector:n,message:Q("[ec:00010002] Cannot find the ".concat(D.DATA_CONTAINER_ID,", ").concat(D.CONTAINER_ID," or ").concat(o))})}else r("[ec:00010003] Experience selectors must be either a container ID or an element");for(var a=arguments.length,c=new Array(a>1?a-1:0),s=1;s<a;s++)c[s-1]=arguments[s];return e.apply(t,[i,o].concat(n,c))}}n.r(t);var N,S=n(0),x=n.n(S),D={AUTO_INIT:"crl8-auto-init",CONTAINER_ID:"crl8-container-id",DATA_AUTO_INIT:"data-crl8-auto-init",DATA_CONTAINER_ID:"data-crl8-container-id",DATA_LAZY_LOAD:"data-crl8-lazy-load-experience",LAZY_LOAD:"crl8-lazy-load-experience"},j={ERROR_LOG:"https://edge.curalate.com/v1/error-logging/log",SITES_CDN:"https://edge.curalate.com/sites/",SITES_S3:"https://s3.amazonaws.com/curalate-experiences/sites/"};!function(e){e.EXPERIENCE_CONSTRUCTOR_READY="experienceConstructorReady",e.EXPERIENCE_READY="experienceReady",e.REGISTER_CONTAINER_MAPPER="registerContainerMapper",e.REGISTER_EXPERIENCE_OPTIONS="registerExperienceOptions",e.SITE_READY="siteReady"}(N||(N={}));var M,L=N;!function(e){e.DEBUG="crl8-debug",e.EXPERIENCE_MAP="crl8-experience-map",e.OPTION_OVERRIDES_MAP="crl8-options-map",e.PERMALINK_MAP="crl8-permalink-map",e.SKIP_CDN="crl8-skip-cdn",e.VERSION_MAP="crl8-version-map"}(M||(M={}));var G,K,U,V,q=M,B=window,F={name:""},z=function(e){var t=e.errorMessage,n=e.errorStack,r=i(),o=j.ERROR_LOG,a="";r&&(o=B.crl8&&B.crl8[r]&&B.crl8[r].bootloader&&B.crl8[r].bootloader&&B.crl8[r].bootloader.loggerPath||j.ERROR_LOG,a="[sn:".concat(r,"]"));var c=encodeURIComponent("".concat(n||t||""," ").concat(a)),s="".concat(o,"?errortype=").concat("bootloader","&error=").concat(c);fetch(s,{method:"POST",mode:"no-cors"})},Q=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="Curalate: ERROR -",i="string"==typeof e?e:e.message,r="string"!=typeof e&&e.stack||"";return t&&B.crl8&&!1===B.crl8.debug?z({errorMessage:i,errorStack:r}):console.log("".concat(n," ").concat(i)),"".concat(n," ").concat(i)},Y={},H={addEventListener:function(e,t){Y[e]=Y[e]||[],Y[e].push(t)},removeEventListener:function(e,t){for(var n=0;n<Y[e].length;++n)if(Y[e][n]===t){Y[e].splice(n,1);break}},dispatchEvent:function(e,t){var n=Y[e];n&&n.forEach(function(e){e.call(null,t)})}},X={childList:!0,subtree:!0},J={getQueryParamsMap:function(e){return e.substring(1).split("&").reduce(function(e,t){var n=t.split("=");return n[0]&&n[1]&&(e[n[0]]=decodeURIComponent(n[1])),e},{})},fetchScript:function(e){return new Promise(function(t,n){var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=t,i.onerror=n,document.getElementsByTagName("body")[0].appendChild(i)})}},W=function(e){var t,n=J.getQueryParamsMap(e);B.crl8.debug=!!n[q.DEBUG];var r=n[q.PERMALINK_MAP];if(r)try{t=JSON.parse(atob(decodeURIComponent(r)))}catch(e){var o=i();if(-1!==r.indexOf(o))try{t=JSON.parse(decodeURIComponent(r))}catch(e){Q({message:"[ec:00040001] Incorrect unencoded value ".concat(r," for ").concat(q.PERMALINK_MAP,". Error: ").concat(e.message),name:e.name,stack:e.stack})}else Q({message:"[ec:00040002] ".concat(o," not found in permalinks for ").concat(q.PERMALINK_MAP,". Error: ").concat(e.message),name:e.name,stack:e.stack})}return{allParams:n,experienceMap:n[q.EXPERIENCE_MAP]?JSON.parse(n[q.EXPERIENCE_MAP]):{},versionMap:n[q.VERSION_MAP]?JSON.parse(n[q.VERSION_MAP]):{},optionsOverridesMap:n[q.OPTION_OVERRIDES_MAP]?JSON.parse(n[q.OPTION_OVERRIDES_MAP]):{},permalinkMap:t||{},shouldSkipCDN:"true"===n[q.SKIP_CDN]}}(B.location.search),Z={},$={},ee={},te={},ne=function(e){return Promise.resolve(e)};H.addEventListener(L.SITE_READY,function(e){var t;"object"!==y(e)&&r("[ec:00000001] `siteReady` event triggered without a `name` property in: ".concat(e)),"string"!=typeof e.name&&r("[ec:00000002] `siteReady` event triggered without a `name` property in: ".concat(JSON.stringify(e))),t=e.name,F.name=t,"uninitialized"===document.readyState||"loading"===document.readyState?document.addEventListener("DOMContentLoaded",P):P()}),H.addEventListener(L.EXPERIENCE_CONSTRUCTOR_READY,function(e){ee[e.name]=Promise.resolve(e.Experience)}),H.addEventListener(L.REGISTER_EXPERIENCE_OPTIONS,function(e){var t=e.containerId,n=e.experienceName,i=e.options;t&&(Z[t]=x()(Z[t]||{},i||{},{arrayMerge:s})),n&&($[n]=x()($[n]||{},i||{},{arrayMerge:s}))}),H.addEventListener(L.REGISTER_CONTAINER_MAPPER,function(e){ne=e}),B.crl8=m(m({},B.crl8),{},{EventBus:H,createExperience:R(function(e,t,n,i){return w(e,t,{containerSelector:n,optionsOverrides:i})}),getExperience:R(function(e,t,n){var i=te[e];return i?i.instancePromise:Promise.reject({containerSelector:n,message:Q("[ec:00030001] No experience found for ".concat(n),!1)})}),getAllExperiences:function(){return Promise.all(Object.keys(te).map(function(e){return te[e].instancePromise||Promise.reject()}))},destroyExperience:R(function(e,t,n){var i=te[e];return V&&V.unobserve(t),i?k(i):Promise.reject({containerSelector:n,message:Q("[ec:00030002] Could not find an experience to destroy for ".concat(n))})}),destroyAllExperiences:function(){return G&&G.disconnect(),B.clearTimeout(K),V&&V.disconnect(),Promise.all(Object.keys(te).map(function(e){return k(te[e])}))},updateExperience:R(function(e,t,n,i){var r=te[e];return r?(function(e,t){e.instance?e.instance.updateOptions(t):Promise.resolve()}(r,i),Promise.resolve()):Promise.reject({containerSelector:n,message:Q("[ec:00030003] Could not find an experience to update for ".concat(n))})}),openModal:R(function(e,t,n,i,r){var o=te[e];return o?(function(e,t,n){e.instance?e.instance.openModal(t,n):Promise.resolve()}(o,i,r),Promise.resolve()):Promise.reject({containerSelector:n,message:Q("[ec:00030004] Could not find an experience to open a modal in for ".concat(n))})}),closeModal:R(function(e,t,n){var i=te[e];return i?(function(e){e.instance?e.instance.closeModal():Promise.resolve()}(i),Promise.resolve()):Promise.reject({containerSelector:n,message:Q("[ec:00030005] Could not find an experience to close a modal in for ".concat(n))})}),openUploader:R(function(e,t,n){var i=te[e];return i?(function(e){e.instance?e.instance.openUploader():Promise.resolve()}(i),Promise.resolve()):Promise.reject({containerSelector:n,message:Q("[ec:00030006] Could not find an experience to open an uploader in for ".concat(n))})}),closeUploader:R(function(e,t,n){var i=te[e];return i?(function(e){e.instance?e.instance.closeUploader():Promise.resolve()}(i),Promise.resolve()):Promise.reject({containerSelector:n,message:Q("[ec:00030007] Could not find an experience to close an uploader in for '".concat(n))})}),updatePermalinkQueryParams:R(function(e,t,n,r,o,a){g({containerId:e,siteName:i(),permalinkOptions:a,permalinkType:r,permalinkValue:o,queryParams:W})})})},function(e,t,n){"use strict";n.r(t),function(){return e=!!window.MSInputMethodContext&&!!document.documentMode,t=window.navigator.userAgent,n=-1!==t.toUpperCase().indexOf("TRIDENT/")||-1!==t.toUpperCase().indexOf("MSIE"),!(e||n);var e,t,n}()&&n(1)}])},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=17)}([function(e,t,n){"use strict";function i(e){return e instanceof Object&&!(e instanceof Array||e instanceof Function)}function r(e){if(!i(e))throw new Error(e+" must be a plain object.");return Object.keys(e).length<=0}function o(e){return JSON.parse(JSON.stringify(e))}function a(e,t){var n=o(e);for(var r in t){var c=i(e[r])&&i(t[r]);n[r]=c?a(e[r]||{},t[r]):o(t[r])}return n}function c(e){return e.replace?e.replace(/\|/g,""):e}function s(){return Date.now()}function u(e,t){return-1!==e.indexOf(t)}t.b=r,t.a=a,t.d=c,t.c=s,t.e=u},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.debug=!!t,this.loggingEndpoint=n.loggingEndpoint||"https://edge.curalate.com/v1/error-logging/log",this.siteName=n.siteName||""}return r(e,[{key:"setDebug",value:function(e){this.debug=!!e}},{key:"setSiteName",value:function(e){this.siteName=e}},{key:"logDebug",value:function(e,t){this.debug&&(t?console.debug("[crl8 debug]",e,t):console.debug("[crl8 debug]",e))}},{key:"logError",value:function(e,t){var n="[crl8]",i="universalAnalytics",r=window.screen.height+"x"+window.screen.width,o=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||"",a=this.siteName?"[sn:"+this.siteName+"]":"",c=this.loggingEndpoint+"?errortype="+i+"&error="+encodeURIComponent(e+" "+a)+"&width="+o+"&dimensions="+r;if(fetch(c,{method:"POST",mode:"no-cors"}),t)throw new Error(n+" "+e);console.error(n+" "+e)}}]),e}();t.a=o},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i={CAROUSEL_NAVIGATION_POSITION_PARAMETER:'[ec:01030001] Carousel navigation must include "position" parameter and the value must be -1 or 1.',CURALENS_CLICK_ITEM_ID_PARAMETER:'[ec:01030002] Curalens clicks must include "itemId" parameter.',INFINITE_SCROLL_POSITION_PARAMETER:'[ec:01030003] Infinite scroll load must include "position" parameter.',INVALID_EVENT_NAME:"[ec:01030004] Invalid eventName specified. Must be a string. Metrics data will not be recorded.",INVALID_TRACKER_FUNCTION:"[ec:01020001] Invalid tracker function specified. Metrics data will not be recorded.",ITEM_CLICK_PARAMETERS:'[ec:01030005] Item clicks must include "itemId" and "position" parameters.',ITEM_HOVER_PARAMETERS:'[ec:01030006] Item hovers must include "itemId" and "position" parameters.',ITEM_IMPRESSION_PARAMETERS:'[ec:01030007] Item impressions must define "itemId", "elapsedTime" and "position" parameters.',LOAD_MORE_CLICK_POSITION_PARAMETER:'[ec:01030008] Load more clicks must include "position" parameter.',METRICS_ALREADY_INITIALIZED_FOR_EXPERIENCE:"[ec:01000001] Metrics have already been initialized for experience",NO_TRACKER_FOR_EXPERIENCE:"[ec:01020002] No tracker exists for experienceId:",PAGE_NO_CONTENT_IMPRESSION_PRODUCT_ID:'[ec:01030009] Page no-content impressions must define a "productId" parameter.',PRODUCT_ADD_TO_CART_PARAMETERS:'[ec:01030010] Product add-to-cart must define "productId" and "position" parameters.',PRODUCT_CLICK_PARAMETERS:'[ec:01030011] Product clicks must define "productId", "productStyleId" and "position" parameters.',PRODUCT_HOVER_PARAMETERS:'[ec:01030012] Product hovers must define "productId", "productStyleId", "elapsedTime", and "position" parameters.',PRODUCT_IMPRESSION_PARAMETERS:'[ec:01030013] Product impressions must define "productId", "productStyleId", "elapsedTime", and "position" parameters.',STRING_VALUE_FOR_METRICS_ID:"[ec:01010002] You must provide a string value for metricsId.",STRING_VALUE_FOR_PIXEL_NAME:"[ec:01010003] You must provide a string value for pixelName.",TRACKING_EVENT_DISPLAYTYPE:"[ec:01030014] Tracking event must define a displayType field in order to be recorded.",TRACKING_EVENT_REQUEST_ID:"[ec:01030015] Tracking event must define a requestId field in order to be recorded.",TRACKING_EVENT_TIMESTAMP:"[ec:01030016] Tracking event must define a timestamp field in order to be recorded.",TRACKING_EVENT_TYPE:"[ec:01030017] Tracking event must define a type field in order to be recorded.",UNKNOWN_EVENT_TYPE:"[ec:01030018] Unknown event type. Cannot be validated.",VALID_URL_FOR_BASEURL:"[ec:01010001] You must provide a valid url for baseUrl.",VIEWABLE_IMPRESSION_ELAPSED_TIME:'[ec:01030018] Viewable impressions must define an "elapsedTime" parameter.'}},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return r});var i=(Object.freeze({GA4_GTAG:"GTAG",GA4_GTM:"GTM"}),Object.freeze({GA4_GTAG:"gtag",GA4_GTM:"dataLayer",GA:"ga",LEGACY_GAQ:"_gaq",LEGACY_GAT:"_gat"})),r=Object.freeze({IMPRESSION:"impression",INTERACTION:"interaction"})},function(e,t,n){var i,r;!function(o){var a=!1;if(i=o,void 0!==(r="function"==typeof i?i.call(t,n,t,e):i)&&(e.exports=r),a=!0,e.exports=o(),a=!0,!a){var c=window.Cookies,s=window.Cookies=o();s.noConflict=function(){return window.Cookies=c,s}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function t(n){function i(t,r,o){var a;if("undefined"!=typeof document){if(arguments.length>1){if(o=e({path:"/"},i.defaults,o),"number"==typeof o.expires){var c=new Date;c.setMilliseconds(c.getMilliseconds()+864e5*o.expires),o.expires=c}o.expires=o.expires?o.expires.toUTCString():"";try{a=JSON.stringify(r),/^[\{\[]/.test(a)&&(r=a)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape);var s="";for(var u in o)o[u]&&(s+="; "+u,!0!==o[u]&&(s+="="+o[u]));return document.cookie=t+"="+r+s}t||(a={});for(var l=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,p=0;p<l.length;p++){var f=l[p].split("="),g=f.slice(1).join("=");'"'===g.charAt(0)&&(g=g.slice(1,-1));try{var h=f[0].replace(d,decodeURIComponent);if(g=n.read?n.read(g,h):n(g,h)||g.replace(d,decodeURIComponent),this.json)try{g=JSON.parse(g)}catch(e){}if(t===h){a=g;break}t||(a[h]=g)}catch(e){}}return a}}return i.set=i,i.get=function(e){return i.call(i,e)},i.getJSON=function(){return i.apply({json:!0},[].slice.call(arguments))},i.defaults={},i.remove=function(t,n){i(t,"",e(n,{expires:-1}))},i.withConverter=t,i}return t(function(){})})},function(e,t){function n(e,t){var n=t||0,r=i;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")}for(var i=[],r=0;r<256;++r)i[r]=(r+256).toString(16).substr(1);e.exports=n},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var i=new Uint8Array(16);e.exports=function(){return n(i),i}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(22),a=n(1),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.trackers={},t.loggingEndpoint=t.loggingEndpoint||"https://edge.curalate.com/v1/error-logging/log",this.loggingEndpoint=t.loggingEndpoint,this.logger=new a.a(!1,{loggingEndpoint:t.loggingEndpoint})}return c(e,[{key:"_getTracker",value:function(e){var t=this.trackers[e];return t||void this.logger.logError(r.a.NO_TRACKER_FOR_EXPERIENCE+" "+e)}},{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.siteName&&this.logger.setSiteName(t.siteName),this.trackers[e]){var n=r.a.METRICS_ALREADY_INITIALIZED_FOR_EXPERIENCE+" "+e+".";return this.logger.logError(n,!0)}t.loggingEndpoint=t.loggingEndpoint||this.loggingEndpoint;var i=new o.a(e,t);return this.trackers[e]=i,i}},{key:"destroy",value:function(e){var t=this,n=this._getTracker(e);return n?n.submitEventBatch().then(function(){n.stopBatchTimer(),delete t.trackers[e]}):Promise.resolve()}},{key:"recordEvent",value:function(e){var t=e.dynamicLandingPageDetailViewId,n=e.eventData,i=void 0===n?{}:n,o=e.eventName,a=e.experienceId,c=this._getTracker(a);if(c){t&&"string"==typeof t&&c.setDynamicLandingPageDetailViewId(t);var s=void 0;return"string"!=typeof o?this.logger.logError(r.a.INVALID_EVENT_NAME):(s="record"+(o.charAt(0).toUpperCase()+o.slice(1)),"function"!=typeof c[s]?this.logger.logError(r.a.INVALID_TRACKER_FUNCTION):c[s](i))}}},{key:"flushEvents",value:function(e){var t=this._getTracker(e);return t?t.submitEventBatch():Promise.resolve()}},{key:"startBatchTimer",value:function(e){var t=this._getTracker(e);if(t)return t.startBatchTimer()}},{key:"stopBatchTimer",value:function(e){var t=this._getTracker(e);if(t)return t.stopBatchTimer()}}]),e}();t.default=s},function(e,t,n){"use strict";var i={eventKeys:{carouselNavigation:"cn",curalensClick:"clc",experienceDisabled:"ed",infiniteScrollLoad:"isl",itemClick:"ic",itemHover:"ih",itemImpression:"ivi",loadMoreClick:"lmc",pageImpression:"pi",pageImpressionNoContent:"pinc",pageViewableImpression:"pvi",productAddToCart:"pratc",productClick:"prc",productHover:"prh",productImpression:"prvi"},optionalFields:{contentUnderThreshold:"cut",displayType:"dt",elapsedTime:"et",itemId:"iid",metricsContainer:"c",metricsModule:"m",parentProductId:"ppid",position:"pos",productId:"pid",productStyleId:"psid",x1:"x1",x2:"x2",y1:"y1",y2:"y2"},timing:{batchSizeThreshold:15,batchTimeThreshold:1e4}};t.a=i},function(e,t,n){"use strict";function i(e,t){return r({},e,{integrations:r({},e.integrations||{},{ga:r({},e.integrations&&e.integrations.ga?e.integrations.ga:{isEnabled:!1},t)})})}t.a=i;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}},function(e,t,n){"use strict";function i(e){var t=e.clientApiToken,i=e.containerId,o=e.dynamicLandingPageDetailViewId,a=e.experienceId,c=e.fpcuid,s=e.metricsId,u=e.rid,l=[];return o&&l.push("id="+o),i&&l.push("cid="+i),0===s.indexOf("datasource.")&&t&&l.push("clientApiToken="+t),a&&l.push("xp="+a),u&&l.push("rid="+u),c&&l.push("fpcuid="+c),encodeURIComponent(n.i(r.d)(document.referrer))&&l.push("ref="+encodeURIComponent(n.i(r.d)(document.referrer))),l.join("&")}var r=n(0);t.a=i},function(e,t,n){"use strict";function i(e,t){var i="t:"+n.i(r.d)(e.type)+"|ts:"+n.i(r.d)(e.timestamp),o=Object.keys(t).reduce(function(i,o){return void 0!==e[o]?i+"|"+t[o]+":"+n.i(r.d)(e[o]):i},i);return encodeURIComponent(o)}var r=n(0);t.a=i},function(e,t,n){"use strict";function i(e){var t=n.i(a.a)(document.domain);o.a.set("crl8.fpcuid",e,{expires:365,domain:t,path:""})}var r=n(4),o=n.n(r),a=n(13);t.a=i},function(e,t,n){"use strict";function i(e){var t=e.split(".");return-1!==["co","com"].indexOf(t[t.length-2])?t.slice(-3).join("."):t.slice(-2).join(".")}t.a=i},function(e,t,n){"use strict";function i(e){return"keepalive"in new window.Request("")?fetch(e,{keepalive:!0,mode:"no-cors"}):new Promise(function(t,n){var i=new window.Image(1,1);i.onload=function(){t()},i.onerror=function(){n()},i.src=e})}t.a=i},function(e,t,n){"use strict";function i(e,t){return e.baseUrl&&"string"==typeof e.baseUrl?e.metricsId&&"string"==typeof e.metricsId?e.pixelName&&"string"==typeof e.pixelName?void 0:t.logError(r.a.STRING_VALUE_FOR_PIXEL_NAME,!0):t.logError(r.a.STRING_VALUE_FOR_METRICS_ID,!0):t.logError(r.a.VALID_URL_FOR_BASEURL,!0)}var r=n(2);t.a=i},function(e,t,n){"use strict";function i(e){if(!e.requestId||"string"!=typeof e.requestId)throw new Error(o.a.TRACKING_EVENT_REQUEST_ID);if(!e.type||"string"!=typeof e.type)throw new Error(o.a.TRACKING_EVENT_TYPE);if(!e.timestamp||"number"!=typeof e.timestamp)throw new Error(o.a.TRACKING_EVENT_TIMESTAMP);if(!e.displayType||"string"!=typeof e.displayType)throw new Error(o.a.TRACKING_EVENT_DISPLAYTYPE)}function r(e,t,n){try{i(e)}catch(e){return n.logError(e.message),!1}switch(e.type){case t.eventKeys.pageImpression:return!0;case t.eventKeys.pageImpressionNoContent:return!!e.productId||(n.logError(o.a.PAGE_NO_CONTENT_IMPRESSION_PRODUCT_ID),!1);case t.eventKeys.pageViewableImpression:return!!e.elapsedTime||(n.logError(o.a.VIEWABLE_IMPRESSION_ELAPSED_TIME),!1);case t.eventKeys.itemImpression:return!!(e.itemId&&e.elapsedTime&&e.position)||(n.logError(o.a.ITEM_IMPRESSION_PARAMETERS),!1);case t.eventKeys.itemHover:return!(!e.itemId||!e.position)||(n.logError(o.a.ITEM_HOVER_PARAMETERS),!1);case t.eventKeys.itemClick:return!(!e.itemId||!e.position)||(n.logError(o.a.ITEM_CLICK_PARAMETERS),!1);case t.eventKeys.productImpression:return!!(e.productId&&e.productStyleId&&e.position&&e.elapsedTime)||(n.logError(o.a.PRODUCT_IMPRESSION_PARAMETERS),!1);case t.eventKeys.productHover:return!!(e.productId&&e.productStyleId&&e.position&&e.elapsedTime)||(n.logError(o.a.PRODUCT_HOVER_PARAMETERS),!1);case t.eventKeys.productClick:return!!(e.productId&&e.productStyleId&&e.position)||(n.logError(o.a.PRODUCT_CLICK_PARAMETERS),!1);case t.eventKeys.productAddToCart:return!(!e.productId||!e.position)||(n.logError(o.a.PRODUCT_ADD_TO_CART_PARAMETERS),!1);case t.eventKeys.curalensClick:return!!e.itemId||(n.logError(o.a.CURALENS_CLICK_ITEM_ID_PARAMETER),!1);case t.eventKeys.carouselNavigation:return-1===e.position||1===e.position||(n.logError(o.a.CAROUSEL_NAVIGATION_POSITION_PARAMETER),!1);case t.eventKeys.infiniteScrollLoad:return!!e.position||(n.logError(o.a.INFINITE_SCROLL_POSITION_PARAMETER),!1);case t.eventKeys.loadMoreClick:return!!e.position||(n.logError(o.a.LOAD_MORE_CLICK_POSITION_PARAMETER),!1);case t.eventKeys.experienceDisabled:return!0;default:return n.logError(o.a.UNKNOWN_EVENT_TYPE),!1}}var o=n(2);t.a=r},function(e,t,n){e.exports=n(7)},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(1),a=n(3),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,n){var c;r(this,e),this.eventQueue=[],this.initialized=!1,this.hasProcessedEvent=!1,this.hasRecordedEvent=!1,this.config={customEventName:t.integrations.adobeAnalytics.customEventName||"crl8_gallery",displayType:t.displayType,eVars:t.integrations.adobeAnalytics.eVars,eventKeys:t.eventKeys,experienceId:t.experienceId,interactionLevel:t.integrations.adobeAnalytics.interactionLevel||a.a.IMPRESSION,loggingEndpoint:t.loggingEndpoint,rid:t.rid,useStandalone:t.integrations.adobeAnalytics.useStandalone},this.logger=new o.a(n,{loggingEndpoint:this.config.loggingEndpoint,siteName:t.siteName}),this.supportedEvents=(c={},i(c,this.config.eventKeys.pageImpression,!0),i(c,this.config.eventKeys.itemHover,!0),i(c,this.config.eventKeys.itemClick,!0),i(c,this.config.eventKeys.productClick,!0),c),this.checkForAdobeAnalytics(0)}return c(e,[{key:"checkForAdobeAnalytics",value:function(e){if(this.logger.logDebug("Checking for Adobe Analytics..."),window.s&&this.config.useStandalone)this.initialized=!0;else if(window._satellite&&!this.config.useStandalone)this.initialized=!0;else if(e>60)!window.s||window._satellite||this.config.useStandalone?!window.s&&window._satellite&&this.config.useStandalone?this.logger.logDebug('\n          Adobe Analytics configuration is incompatible. Initialization failed.\n          Standalone tracking is enabled, however the standalone Adobe "window.s" object is not present and "window._satellite" is present.\n        '):this.logger.logDebug("Adobe Analytics not detected. Initialization failed."):this.logger.logDebug('\n          Adobe Analytics configuration is incompatible. Initialization failed.\n          The standalone Adobe "window.s" object is present, but standalone tracking is not enabled and "window._satellite" is not present.\n        ');else{var t=e+1;setTimeout(this.checkForAdobeAnalytics.bind(this,t),500)}}},{key:"submitEventBatch",value:function(e){var t=this;if(!this.hasProcessedEvent&&!this.hasRecordedEvent){var n=e.filter(function(e){return!!t.supportedEvents[e.type]});if(!this.initialized)return void(this.eventQueue=this.eventQueue.concat(n));this.eventQueue.length&&(this.eventQueue.forEach(function(e){t.processEvent(e)}),this.eventQueue=[]),n.length&&n.forEach(function(e){t.processEvent(e)})}}},{key:"processEvent",value:function(e){var t=this.config,n=t.eventKeys,i=t.interactionLevel;if(!this.hasRecordedEvent&&!this.hasProcessedEvent){var r=e.type===n.pageImpression,o=e.type===n.itemHover||e.type===n.itemClick||e.type===n.productClick;if(!this.hasProcessedEvent&&i===a.a.IMPRESSION&&(r||o))return this.formEventLabel(),void(this.hasProcessedEvent=!0);!this.hasProcessedEvent&&i===a.a.INTERACTION&&o&&(this.formEventLabel(),this.hasProcessedEvent=!0)}}},{key:"formEventLabel",value:function(){var e=this.config,t=e.displayType,n=e.rid,i=e.useStandalone,r="";t&&n&&(r="v1:rid="+n+"&dt="+t),this.hasRecordedEvent||(i?this.sendToStandaloneAdobeAnalytics(r):this.sendToAdobeAnalytics(r,0))}},{key:"sendToAdobeAnalytics",value:function(e,t){if(window.crl8.metrics.trackers&&window.crl8.metrics.trackers[this.config.experienceId]){var n=window.crl8.metrics.trackers[this.config.experienceId].adobeAnalytics||{};n.requestId=e,"function"==typeof window._satellite.track?(window._satellite.track(this.config.customEventName,{requestId:n.requestId}),this.hasRecordedEvent=!0):this.logger.logDebug('Adobe Analytics failed because the "window._satellite.track" function is not present.')}else if(t>60)this.logger.logDebug("Failed to send eventLabel to Adobe Analytics. Tracking failed.");else{var i=t+1;setTimeout(this.sendToAdobeAnalytics.bind(this,e,i),500)}}},{key:"sendToStandaloneAdobeAnalytics",value:function(e){if("function"==typeof window.s.tl){var t=this.config.eVars,n=window.s.linkTrackVars;window.s[t]=e,window.s.linkTrackVars=t,window.s.tl(!0,"o",e),window.s.linkTrackVars=n,this.hasRecordedEvent=!0}else this.logger.logDebug('Adobe Analytics failed because the "window.s.tl" function is not present.')}}]),e}();t.a=s},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){i(this,e),this._children=[],this._children=t}return r(e,[{key:"submitEventBatch",value:function(e){this._children.forEach(function(t){return t.submitEventBatch(e)})}}]),e}();t.a=o},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(1),a=n(3),c=n(0),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(){function e(t,n){var a;r(this,e),this.eventQueue=[],this.initialized=!1,this.useLegacy=!1,this.useGa4Gtag=!1,this.ga4ThroughGtm=!1,this.useGa4Gtm=!1,this.metricsId=t.metricsId,this.gaObject=null,this.config={actions:{pageImpression:"reel.impression",itemHover:"item.hover",itemClick:"item.click",productClick:"item.shop",productAddToCart:"item.cart"},category:"curalate.fanreel."+t.metricsId,displayType:t.displayType,enhancedEcommerce:{isEnabled:!(t.integrations.ga.enhancedEcommerce&&!1===t.integrations.ga.enhancedEcommerce.isEnabled)},eventKeys:t.eventKeys,loggingEndpoint:t.loggingEndpoint,rid:t.rid,ga4EventParam:"bvsc_event_data",ga4EventParam2:"bvsc_event_data_2",ga4IntegrationMethod:t.integrations.ga.methodName?t.integrations.ga.methodName:null,ga4Destination:t.integrations.ga.trackingDestination?t.integrations.ga.trackingDestination:null,useUA:t.integrations.ga.useUA},this.supportedEvents=(a={},i(a,this.config.eventKeys.pageImpression,!0),i(a,this.config.eventKeys.itemHover,!0),i(a,this.config.eventKeys.itemClick,!0),i(a,this.config.eventKeys.productClick,!0),i(a,this.config.eventKeys.productAddToCart,!0),a),this.logger=new o.a(n,{loggingEndpoint:this.config.loggingEndpoint,siteName:t.siteName}),this.checkForGa(0)}return u(e,[{key:"checkForGa",value:function(e){var t=a.b.GA4_GTAG,n=a.b.GA4_GTM,i=a.b.GA,r=a.b.LEGACY_GAQ;if(this.ga4ThroughGtm=this.checkForGTM(),this.logger.logDebug("Checking for GA..."),this.config.useUA&&window[i]?this.gaObject=i:"GTAG"===this.config.ga4IntegrationMethod?this.gaObject=t:"GTM"===this.config.ga4IntegrationMethod?this.gaObject=this.config.ga4Destination?this.config.ga4Destination:n:"function"==typeof gtag?this.gaObject=t:this.ga4ThroughGtm?this.gaObject=n:window.GoogleAnalyticsObject?this.gaObject=window.GoogleAnalyticsObject:window[i]?this.gaObject=i:window[r]&&(this.gaObject=r),this.gaObject)this.initialized=!0,this.useLegacy=this.gaObject===r,this.useGa4Gtag=this.gaObject===t,this.useGa4Gtm=this.gaObject===n||this.gaObject===this.config.ga4Destination;else if(e>60)this.logger.logDebug("GA not detected. Initialization failed.");else{var o=e+1;setTimeout(this.checkForGa.bind(this,o),500)}}},{key:"submitEventBatch",value:function(e){var t=this,n=e.filter(function(e){return!!t.supportedEvents[e.type]});if(!this.initialized)return void(this.eventQueue=this.eventQueue.concat(n));this.eventQueue.length&&(this.eventQueue.forEach(function(e){t.processEvent(e)}),this.eventQueue=[]),n.length&&n.forEach(function(e){t.processEvent(e)})}},{key:"processEvent",value:function(e){var t=this,n=this.config,i=n.actions,r=n.displayType,o=n.eventKeys,a=n.rid,c=[];switch(e.type){case o.pageImpression:c.push({action:i.pageImpression,params:"v1:rid="+a+"&dt="+r,data:{type:e.type,displayType:r,rid:a}});break;case o.itemHover:c.push({action:i.itemHover,params:"v1:iid="+e.itemId,data:{type:e.type,itemId:e.itemId}});break;case o.itemClick:c.push({action:i.itemClick,params:"v1:iid="+e.itemId,data:{type:e.type,itemId:e.itemId}}),c.push({action:i.itemHover,params:"v1:iid="+e.itemId,data:{type:e.type,itemId:e.itemId}});break;case o.productClick:c.push({action:i.productClick,params:"v1:iid="+e.itemId+"&prid="+e.productId,data:{type:e.type,itemId:e.itemId,productId:e.productId}}),c.push({action:i.itemClick,params:"v1:iid="+e.itemId,data:{type:e.type,itemId:e.itemId}}),c.push({action:i.itemHover,params:"v1:iid="+e.itemId,data:{type:e.type,itemId:e.itemId}});break;case o.productAddToCart:c.push({action:i.productAddToCart,params:"v1:iid="+e.itemId+"&prid="+e.productId,data:{type:e.type,itemId:e.itemId,productId:e.productId}}),c.push({action:i.productClick,params:"v1:iid="+e.itemId+"&prid="+e.productId,data:{type:e.type,itemId:e.itemId,productId:e.productId}}),c.push({action:i.itemClick,params:"v1:iid="+e.itemId,data:{type:e.type,itemId:e.itemId}}),c.push({action:i.itemHover,params:"v1:iid="+e.itemId,data:{type:e.type,itemId:e.itemId}});break;default:return}c.forEach(function(e){t.useLegacy?t.sendToLegacyGa(e):t.useGa4Gtag?t.sendViaGtag(e):t.useGa4Gtm?t.sendViaGtm(e):t.sendToGa(e)})}},{key:"sendViaGtag",value:function(e){if("function"==typeof window[this.gaObject]){var t,r=this.generateEventParams(e);window[this.gaObject]("event","bvsc."+e.action,(t={send_to:this.config.ga4Destination?this.config.ga4Destination:void 0},i(t,this.config.ga4EventParam,r),i(t,this.config.ga4EventParam2,n.i(c.e)(e.params,"&prid=")?"&prid="+e.data.productId:""),i(t,"event_action",e.action),i(t,"event_label",e.params),i(t,"event_category",this.config.category),t))}}},{key:"sendViaGtm",value:function(e){if("object"===s(window[this.gaObject])&&"function"==typeof window[this.gaObject].push){var t,r=this.generateEventParams(e);window[this.gaObject].push((t={event:"bvsc."+e.action},i(t,this.config.ga4EventParam,r),i(t,this.config.ga4EventParam2,n.i(c.e)(e.params,"&prid=")?"&prid="+e.data.productId:""),i(t,"event_action",e.action),i(t,"event_label",e.params),i(t,"event_category",this.config.category),t))}}},{key:"generateEventParams",value:function(e){if(n.i(c.e)(e.params,"&prid=")){var t=e.params.split("&prid=");return this.metricsId+"|"+t[0]}return this.metricsId+"|"+e.params}},{key:"checkForGTM",value:function(){var e=Array.from(document.getElementsByTagName("script"));return!!e&&e.some(function(e){return e.src.includes("gtm.js")})}},{key:"sendToGa",value:function(e){var t=window[this.gaObject].getAll&&"function"==typeof window[this.gaObject].getAll?window[this.gaObject].getAll():null;if(t&&t.length){this.config.enhancedEcommerce.isEnabled&&e.action===this.config.actions.productClick&&this.sendEnhancedEcommerceProductClick(t,e.data);var n=t[0].get("name")?t[0].get("name")+".send":"send";window[this.gaObject](n,"event",this.config.category,e.action,e.params,{nonInteraction:e.action===this.config.actions.pageImpression})}}},{key:"sendToLegacyGa",value:function(e){var t=a.b.LEGACY_GAQ,n=a.b.LEGACY_GAT;if(window[n]&&"function"==typeof window[n]._getTrackers&&"function"==typeof window[t].push){var i=window[n]._getTrackers(),r=i&&i.length?i[0]._getName()+".":"";window[t].push([r+"_trackEvent",this.config.category,e.action,e.params])}}},{key:"sendEnhancedEcommerceProductClick",value:function(e,t){var n=e&&e.length&&e.find(function(e){return e.plugins_&&e.plugins_.get("ec")});if(n&&t.productId){var i=n.get("name");window[this.gaObject](i+".ec:addProduct",{id:t.productId}),window[this.gaObject](i+".ec:setAction","click",{list:"Curalate"}),window[this.gaObject](i+".send",{hitType:"event",eventCategory:this.config.category,eventAction:"click",eventLabel:"Curalate - Product Click"})}}}]),e}();t.a=l},,function(e,t,n){"use strict";function i(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(4),a=n.n(o),c=n(23),s=n.n(c),u=n(8),l=n(1),d=n(0),p=n(10),f=n(15),g=n(16),h=n(12),m=n(11),v=n(14),y=n(20),b=n(18),E=n(19),I=n(9),T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},w=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),A=function(){function e(t){var o=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.eventQueue=[],this.logger=new l.a(!1,{loggingEndpoint:c.loggingEndpoint,siteName:c.siteName});var p=c.requestId,g=i(c,["requestId"]),m=n.i(d.a)(u.a,g),v=void 0;if(m.disableFirstPartyCookie)v="";else{var y=a.a.get("crl8.fpcuid");y?v=y:(v=s()(),n.i(h.a)(v))}this.config=T({experienceId:t,fpcuid:v,rid:p||s()()},m),(window.crl8&&crl8.debug||m.debug)&&(this.debug=!0,this.logger.setDebug(!0)),n.i(f.a)(this.config,this.logger),this.registerIntegrations(),window.addEventListener("beforeunload",function(){o.submitEventBatch()}),this.logger.logDebug("analytics initialized for "+t),this.startBatchTimer()}return w(e,[{key:"registerIntegrations",value:function(){var e=this.config.integrations;if(e&&!n.i(d.b)(e)){if(e.ga&&e.ga.isEnabled){var t=this.config,i=this.debug,r=void 0!==i&&i,o=new y.a(t,r);if(e.ga.dualWrite){var a=n.i(I.a)(t,{useUA:!0}),c=new y.a(a,r);this.ga=new E.a([o,c])}else this.ga=o}e.adobeAnalytics&&e.adobeAnalytics.isEnabled&&(this.adobeAnalytics=new b.a(this.config,this.debug))}}},{key:"setDynamicLandingPageDetailViewId",value:function(e){this.config.dynamicLandingPageDetailViewId=e}},{key:"startBatchTimer",value:function(){var e=this;this.batchTimerId||(this.batchTimerId=window.setInterval(function(){e.logger.logDebug("batch timer reached, flushing queue..."),e.submitEventBatch()},this.config.timing.batchTimeThreshold))}},{key:"stopBatchTimer",value:function(){this.batchTimerId&&(window.clearInterval(this.batchTimerId),this.batchTimerId=null)}},{key:"resetBatchTimer",value:function(){this.batchTimerId&&(this.stopBatchTimer(),this.startBatchTimer())}},{key:"enqueueEvent",value:function(e){this.eventQueue.push(e),this.eventQueue.length>=this.config.timing.batchSizeThreshold&&this.submitEventBatch()}},{key:"submitEventBatch",value:function(){var e=this;return 0===this.eventQueue.length?Promise.resolve():(this.ga&&this.ga.submitEventBatch(this.eventQueue),this.adobeAnalytics&&this.adobeAnalytics.submitEventBatch(this.eventQueue),new Promise(function(t,i){var r=e.config,o=r.baseUrl,a=r.metricsId,c=r.optionalFields,u=r.pixelName,l=r.validateEvents,d="https:"===document.location.protocol?"https:":"http:",f=n.i(p.a)(e.config),g=e.debug||l?"&crl8-validate=true":"",h=e.eventQueue.reduce(function(e,t){return e+"&e="+n.i(m.a)(t,c)},""),y=""+f+h+g+"&cache=_"+s()(),b=""+d+o+"/"+a+"/"+u+"?"+y;n.i(v.a)(b).then(function(){e.logger.logDebug('crl8 pixel with metricsId "'+a+'" fired successfully: '+y),t()}).catch(function(){e.logger.logDebug('crl8 pixel with metricsId "'+a+'" failed to fire: '+y),i()}),e.eventQueue=[],e.resetBatchTimer()}))}},{key:"recordPageImpression",value:function(e){var t=T({},e,{displayType:this.config.displayType,requestId:this.config.rid,type:this.config.eventKeys.pageImpression,timestamp:n.i(d.c)()});n.i(g.a)(t,this.config,this.logger)&&(this.enqueueEvent(t),this.logger.logDebug("registering page impression",t),this.submitEventBatch())}},{key:"recordPageImpressionNoContent",value:function(e){var t=T({},e,{displayType:this.config.displayType,requestId:this.config.rid,type:this.config.eventKeys.pageImpressionNoContent,timestamp:n.i(d.c)()});n.i(g.a)(t,this.config,this.logger)&&(this.enqueueEvent(t),this.logger.logDebug("registering page no-content impression",t),this.submitEventBatch())}},{key:"recordPageViewableImpression",value:function(e){var t=T({},e,{displayType:this.config.displayType,requestId:this.config.rid,type:this.config.eventKeys.pageViewableImpression,timestamp:n.i(d.c)()});n.i(g.a)(t,this.config,this.logger)&&(this.enqueueEvent(t),this.logger.logDebug("registering page viewable impression",t))}},{key:"recordItemImpression",value:function(e){var t=T({},e,{displayType:this.config.displayType,requestId:this.config.rid,type:this.config.eventKeys.itemImpression,timestamp:n.i(d.c)()});n.i(g.a)(t,this.config,this.logger)&&(this.enqueueEvent(t),this.logger.logDebug("registering item impression",t))}},{key:"recordItemHover",value:function(e){var t=T({},e,{displayType:this.config.displayType,requestId:this.config.rid,type:this.config.eventKeys.itemHover,timestamp:n.i(d.c)()});n.i(g.a)(t,this.config,this.logger)&&(this.enqueueEvent(t),this.logger.logDebug("registering item hover",t))}},{key:"recordItemClick",value:function(e){var t=T({},e,{displayType:this.config.displayType,requestId:this.config.rid,type:this.config.eventKeys.itemClick,timestamp:n.i(d.c)()});n.i(g.a)(t,this.config,this.logger)&&(this.enqueueEvent(t),this.logger.logDebug("registering item click",t),this.submitEventBatch())}},{key:"recordProductImpression",value:function(e){var t=T({},e,{displayType:this.config.displayType,requestId:this.config.rid,type:this.config.eventKeys.productImpression,timestamp:n.i(d.c)()});n.i(g.a)(t,this.config,this.logger)&&(this.enqueueEvent(t),this.logger.logDebug("registering product impression",t))}},{key:"recordProductHover",value:function(e){var t=T({},e,{displayType:this.config.displayType,requestId:this.config.rid,type:this.config.eventKeys.productHover,timestamp:n.i(d.c)()});n.i(g.a)(t,this.config,this.logger)&&(this.enqueueEvent(t),this.logger.logDebug("registering product hover",t))}},{key:"recordProductClick",value:function(e){var t=T({},e,{displayType:this.config.displayType,requestId:this.config.rid,type:this.config.eventKeys.productClick,timestamp:n.i(d.c)()});n.i(g.a)(t,this.config,this.logger)&&(this.enqueueEvent(t),this.logger.logDebug("registering product click",t),this.submitEventBatch())}},{key:"recordProductAddToCart",value:function(e){var t=T({},e,{displayType:this.config.displayType,requestId:this.config.rid,type:this.config.eventKeys.productAddToCart,timestamp:n.i(d.c)()});n.i(g.a)(t,this.config,this.logger)&&(this.enqueueEvent(t),this.logger.logDebug("registering product add-to-cart",t),this.submitEventBatch())}},{key:"recordCuralensClick",value:function(e){var t=T({},e,{displayType:this.config.displayType,requestId:this.config.rid,type:this.config.eventKeys.curalensClick,timestamp:n.i(d.c)()});n.i(g.a)(t,this.config,this.logger)&&(this.enqueueEvent(t),this.logger.logDebug("registering curalens click",t),this.submitEventBatch())}},{key:"recordCarouselNavigation",value:function(e){var t=T({},e,{displayType:this.config.displayType,requestId:this.config.rid,type:this.config.eventKeys.carouselNavigation,timestamp:n.i(d.c)()});n.i(g.a)(t,this.config,this.logger)&&(this.enqueueEvent(t),this.logger.logDebug("registering carousel navigation",t),this.submitEventBatch())}},{key:"recordInfiniteScrollLoad",value:function(e){var t=T({},e,{displayType:this.config.displayType,requestId:this.config.rid,type:this.config.eventKeys.infiniteScrollLoad,timestamp:n.i(d.c)()});n.i(g.a)(t,this.config,this.logger)&&(this.enqueueEvent(t),this.logger.logDebug("registering infinite scroll load",t),this.submitEventBatch())}},{key:"recordLoadMoreClick",value:function(e){var t=T({},e,{displayType:this.config.displayType,requestId:this.config.rid,type:this.config.eventKeys.loadMoreClick,timestamp:n.i(d.c)()});n.i(g.a)(t,this.config,this.logger)&&(this.enqueueEvent(t),this.logger.logDebug("registering load more click",t),this.submitEventBatch())}},{key:"recordExperienceDisabled",value:function(e){var t=T({},e,{displayType:this.config.displayType,requestId:this.config.rid,type:this.config.eventKeys.experienceDisabled,timestamp:n.i(d.c)()});n.i(g.a)(t,this.config,this.logger)&&(this.enqueueEvent(t),this.logger.logDebug("registering experience disabled event",t),this.submitEventBatch())}}]),e}();t.a=A},function(e,t,n){var i=n(24),r=n(25),o=r;o.v1=i,o.v4=r,e.exports=o},function(e,t,n){function i(e,t,n){var i=t&&n||0,l=t||[];e=e||{};var d=e.node||r,p=void 0!==e.clockseq?e.clockseq:o;if(null==d||null==p){var f=a();null==d&&(d=r=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==p&&(p=o=16383&(f[6]<<8|f[7]))}var g=void 0!==e.msecs?e.msecs:(new Date).getTime(),h=void 0!==e.nsecs?e.nsecs:u+1,m=g-s+(h-u)/1e4;if(m<0&&void 0===e.clockseq&&(p=p+1&16383),(m<0||g>s)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=g,u=h,o=p,g+=122192928e5;var v=(1e4*(268435455&g)+h)%4294967296;l[i++]=v>>>24&255,l[i++]=v>>>16&255,l[i++]=v>>>8&255,l[i++]=255&v;var y=g/4294967296*1e4&268435455;l[i++]=y>>>8&255,l[i++]=255&y,l[i++]=y>>>24&15|16,l[i++]=y>>>16&255,l[i++]=p>>>8|128,l[i++]=255&p;for(var b=0;b<6;++b)l[i+b]=d[b];return t||c(l)}var r,o,a=n(6),c=n(5),s=0,u=0;e.exports=i},function(e,t,n){function i(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null),e=e||{};var a=e.random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var c=0;c<16;++c)t[i+c]=a[c];return t||o(a)}var r=n(6),o=n(5);e.exports=i}])})},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=21)}({21:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={},r=null,o=["checkout","addtocart","removefromcart","viewproduct","pageview"],a=[],c=[],s={},u={},l={pixelId:"a",transactionId:"b",userId:"c",cartValue:"d",taxValue:"e",shippingValue:"f",shippingCity:"g",shippingState:"h",shippingCountry:"i",currency:"j",numProducts:"k",productId:"l",productName:"m",quantity:"n",price:"o",displayPrice:"p",sku:"q",category:"r",eventType:"s",firstPartyCuid:"t",referrer:"u",title:"v",location:"w",path:"x"},d=!1,p=function(e){return e.replace?e.replace(/\|/g,""):e},f=function(e){var t=function(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return""}(e),n=t||function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}(),i=new Date;i.setTime(i.getTime()+31536e6);var r,o=i.toGMTString(),a=document.domain.split(".");return r=-1!==["co","com"].indexOf(a[a.length-2])?"."+a.slice(-3).join("."):"."+a.slice(-2).join("."),document.cookie=e+"="+n+";expires="+o+";domain="+r+";path=/",n}("crl8.fpcuid"),g=document.referrer,h=function(e,t){return e.hasOwnProperty("productId")&&e.hasOwnProperty("productName")?-1===o.indexOf(t.toLowerCase())?void console.error("crl8: Invalid event type. Event type must be one of "+o.join(", ")):(e.eventType=t.toLowerCase(),void("checkout"===e.eventType?c.push(e):a.push(e))):void console.error("crl8: Product info is missing. Product id and product name must be included for product:",e)},m=function(){return c.length>0},v=function(e){var t,n=[];if(e){for(Object.keys(s).forEach(function(e){n.push(l[e]+"="+encodeURIComponent(s[e]))}),n.push(l.numProducts+"="+(c.length+a.length)),t=0;t<c.length;t++)Object.keys(c[t]).forEach(function(e){n.push(l[e]+t+"="+encodeURIComponent(c[t][e]))});I("Preparing to send "+c.length+" product(s) as part of checkout.",c)}else n.push(l.numProducts+"="+a.length);var i=e?c.length:0;for(t=0;t<a.length;t++)Object.keys(a[t]).forEach(function(e){n.push(l[e]+(t+i)+"="+encodeURIComponent(a[t][e]))});return a.length>0&&I("Preparing to send "+a.length+" product(s).",a),Object.keys(u).forEach(function(e){n.push(l[e]+"="+encodeURIComponent(p(u[e])))}),n.push(l.firstPartyCuid+"="+f),n.push(l.referrer+"="+encodeURIComponent(p(g))),n.join("&")},y=function(e){var t=new Image(1,1),n="https:"===document.location.protocol?"https:":"http:",i=v(e);t.setAttribute("alt",""),t.setAttribute("aria-hidden","true"),t.onload=function(){I("Curalate pixel ID "+r+" fired successfully.")},t.onerror=function(){I("Curalate pixel "+r+" failed to fire.")},t.src=n+"//edge.curalate.com/api/v1/pixel/"+r+"/pixel.png?"+i},b=function(e){e&&(c=[],s={}),a=[],u={}},E=function(e){for(;e.length>0;){var t=e.shift(),n=t[0],r=Array.prototype.slice.call(t).slice(1);"function"==typeof i[n]?i[n].call(window,r):console.error("crl8: Invalid function specified: "+n)}},I=function(e,t){var n=!!document.documentMode;d&&(t&&n?console.log("[crl8 debug] "+e,JSON.stringify(t)):t?console.log("[crl8 debug] "+e,t):console.log("[crl8 debug] "+e))};i.init=function(e){r=e[0],d=!!e[1]&&e[1],I("Debug mode enabled.")},i.pageView=function(e){var t=e[0]?e[0]:{location:window.location.href};return Object.keys(u).length>0?void console.error("crl8: Only 1 pageview can be recorded at a time. Call send before adding a second pageview."):t.hasOwnProperty("location")||t.hasOwnProperty("path")?(u=t,void I("Viewed page:",t)):void console.error("crl8: must define either a location or path for Pageview events. Please add one of location or path.")},i.addToCart=function(e){var t=e[0];h(t,"addtocart"),I("Added product to cart:",t)},i.removeFromCart=function(e){var t=e[0];h(t,"removefromcart"),I("Removed product from cart:",t)},i.viewProduct=function(e){var t=e[0];h(t,"viewproduct"),I("Viewed product:",t)},i.addProduct=function(e){var t=e[0];h(t,"checkout"),I("Added product for checkout:",t)},i.addTransactionInfo=function(e){var t=e[0];return Object.keys(s).length>0?void console.error("crl8: Only 1 transaction can be added at a time. Call send before adding a second transaction."):t.hasOwnProperty("transactionId")?(s=t,void I("Added transaction info for checkout:",t)):void console.error("crl8: Transaction id must be included in info for transaction:",t)},i.send=function(e){if(!r)return void console.error("crl8: Curalate pixel must be initialized with a pixel id before data can be sent.");if(e.length>0){var t=e[0].toLowerCase(),n=e[1];o.indexOf(t.toLowerCase())>=0?("addtocart"===t?i.addToCart([n]):"viewproduct"===t?i.viewProduct([n]):"removefromcart"===t?i.removeFromCart([n]):"pageview"===t&&i.pageView([n]),y(!1),b(!1)):console.error("crl8: Unsupported event type passed in to 'send'.")}else{if(0===c.length&&0===a.length)return void console.error("crl8: 0 products have been added. At least 1 product must be added to send data.");if(Object.keys(s).length>0){if(!s.hasOwnProperty("transactionId"))return void console.error("crl8: Transaction id must be specified before checkout data can be sent.");if(!m())return void console.error("crl8: 0 checkout products have been added. At least 1 product must be added to send checkout data.")}else if(m()&&0===Object.keys(s).length)return void console.error("crl8: Transaction info must be added with addTransactionInfo before checkout data can be sent.");y(!0),b(!0)}},t.default=function(e){return!e instanceof Array&&console.error("[crl8]: Pixel must be initialized with an array"),E(e),function(){e=[],e.push(arguments),E(e)}}}})})},function(e,t,n){function i(e,t,n,i,r){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);var c=n?";expires="+o.toGMTString():"",s=encodeURIComponent(e)+"="+encodeURIComponent(t)+c+";path=/"+(i?";domain="+i:"")+(r?";secure":"");a.document.cookie=s}function r(e){var t,n=encodeURIComponent(e)+"=",i=a.document.cookie.split(";");for(t=0;t<i.length;t++){for(var r=i[t];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(n))return decodeURIComponent(r.substring(n.length,r.length))}return null}function o(e,t){delete s[e],t?i(e,null,-1,t):i(e,"",-1)}var a=n(6),c=n(0),s={};e.exports={create:function(e,t,n,r,a){s[e]=t,c.getConsent(e)&&i(e,t,n,r,a),c.subscribe(e,"enable",function(){i(e,t,n,r,a)}),c.subscribe(e,"disable",function(){o(e,r)})},read:r,remove:o}},function(e,t,n){"use strict";(function(t){var n=function(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof window)return window;if("undefined"!=typeof self)return self;if(void 0!==t)return t;throw new Error("unable to locate global object")};e.exports=n()}).call(t,n(7))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){n(1)}]);
if (window.crl8.EventBus) {
window.crl8.EventBus.dispatchEvent('registerExperienceOptions', {
    containerId: 'product',
    options: {"api":{"sourceId":"ebIdQyjiPNrWzHFa","sort":"Optimized"},"metrics":{"metricsId":"xHGbVHGv","displayType":"Pdp","integrations":{"adobeAnalytics":{"isEnabled":true,"useStandalone":false,"customEventName":"crl8_gallery"},"ga":{"isEnabled":false}}},"experienceType":"carousel","gallery":{"hover":{"showCta":true,"showLikes":true,"showPlusIcon":true,"showUser":true},"rowsPerFetch":4,"showCuralateBranding":false,"thumbnail":{"image":{"isSquare":true},"showVideoIcon":true}},"theme":{"overrides":{"columns":{"giant":{"gutter":4,"num":6},"large":{"gutter":4,"num":5},"medium":{"gutter":4,"num":4},"hero":{"gutter":4,"num":3},"small":{"gutter":4,"num":2},"extraSmall":{"gutter":4,"num":1},"default":{"gutter":4,"num":1}},"fonts":{"primary":"SourceSansPro, Arial, sans-serif"},"gallery":{"pagination":{"loadMore":{"buttonStyle":"rectangle","colors":{"background":"#000000","border":"#000000","text":"#FFFFFF"}}}},"header":{"ctaPosition":"center","subtitle":{"color":"#666","fontSize":16},"title":{"color":"#1A1A1A","fontSize":24},"uploaderCta":{"buttonStyle":"rectangle","colors":{"background":"#000000","border":"#000000","text":"#FFFFFF"}}},"modal":{"icon":{"color":"#000000"},"text":{"color":"#1A1A1A"}},"hover":{"cta":{"buttonStyle":"rectangle","colors":{"background":"TRANSPARENT","border":"#FFFFFF","text":"#FFFFFF"}},"overlay":{"background":"#000000"},"text":{"color":"#FFFFFF"}},"carousel":{"navigation":{"colors":{"background":"#FFFFFF","border":"#000000","icon":"#000000"},"iconStyle":"transparent"}}}},"modal":{"type":"popout","social":{"showCaption":false,"showLikeCount":false,"showTimestamp":false,"showUser":true,"showShareIcons":true},"ecommerce":{"showPrice":true,"productDisplayStyle":"scroll","productTags":{"showProductTags":true}},"showReportMedia":true,"hero":{"isSquare":true}},"localizationStrings":{"en-us":{"header":{"title":"","subtitle":"","uploaderCta":"UPLOAD","galleryLinkCta":"","galleryLinkUrl":""},"modal":{"ecommerce":{"title":"Get this look","cta":""}},"hover":{"cta":"SHOP NOW"},"uploader":{"userStage":{"userForm":{"fields":{"termsAndConditions":{"linkUrl":"https://www.bathandbodyworks.com/m/terms-conditions.html"}}}}},"gallery":{"pagination":{"loadMoreCta":"Load More"}}}},"filters":{"preset":{},"permalink":{}},"header":{"showGalleryLink":false,"showHeader":true,"showSubtitle":true,"showTitle":true,"showUploaderCta":true},"clientApiToken":"7781f58d44bc417380fef647e18cded2","carousel":{"main":{"hover":{"showCta":true,"showLikes":true,"showPlusIcon":false,"showUser":true},"navPosition":"inlineOutside","showCuralateBranding":false,"thumbnail":{"image":{"isSquare":true},"showVideoIcon":false}}},"uploader":{"isEnabled":true,"reelId":"xHGbVHGv","formFields":{"emailOptIn":{}}},"reportMedia":{"isEnabled":true,"reelId":"xHGbVHGv"}}
});
window.crl8.EventBus.dispatchEvent('registerExperienceOptions', {
    containerId: 'homepage',
    options: {"api":{"sourceId":"atXawxcGqJjQABLn","sort":"Moderation"},"metrics":{"metricsId":"wJ25EtYA","displayType":"Homepage","integrations":{"adobeAnalytics":{"isEnabled":true,"useStandalone":false,"customEventName":"crl8_gallery"},"ga":{"isEnabled":false}}},"experienceType":"carousel","theme":{"overrides":{"columns":{"giant":{"gutter":10},"large":{"gutter":10},"medium":{"gutter":10},"hero":{"gutter":10},"small":{"gutter":10},"extraSmall":{"gutter":10},"default":{"gutter":10}},"hover":{}}},"localizationStrings":{"en-us":{"modal":{}}},"filters":{"preset":{},"permalink":{}},"header":{"showHeader":true},"clientApiToken":"7781f58d44bc417380fef647e18cded2","uploader":{"formFields":{"emailOptIn":{}}}}
});
window.crl8.EventBus.dispatchEvent('registerExperienceOptions', {
    containerId: 'category',
    options: {"api":{"sourceId":"eHOWvNRqZxvLfNpL","sort":"Moderation"},"metrics":{"metricsId":"fM0kv7Gf","displayType":"Category","integrations":{"adobeAnalytics":{"isEnabled":true,"useStandalone":false,"customEventName":"crl8_gallery"},"ga":{"isEnabled":false}}},"experienceType":"carousel","theme":{"overrides":{"columns":{"giant":{"gutter":10},"large":{"gutter":10},"medium":{"gutter":10},"hero":{"gutter":10},"small":{"gutter":10},"extraSmall":{"gutter":10},"default":{"gutter":10}},"hover":{}}},"localizationStrings":{"en-us":{"modal":{}}},"filters":{"preset":{},"permalink":{}},"header":{"showHeader":true},"clientApiToken":"7781f58d44bc417380fef647e18cded2","uploader":{"formFields":{"emailOptIn":{}}}}
});
window.crl8.EventBus.dispatchEvent('registerExperienceOptions', {
    containerId: 'gallery-da3XdjoG',
    options: {"api":{"sourceId":"VkcBBJPauWPUUAwR","sort":"Optimized"},"metrics":{"metricsId":"JGz8eNEs","displayType":"Unknown","integrations":{"adobeAnalytics":{"isEnabled":true,"useStandalone":false,"customEventName":"crl8_gallery"},"ga":{"isEnabled":false}}},"experienceType":"carousel","gallery":{"hover":{"showCta":true,"showLikes":true,"showPlusIcon":true,"showUser":true},"rowsPerFetch":4,"thumbnail":{"image":{"isSquare":false},"showVideoIcon":true}},"theme":{"overrides":{"columns":{"giant":{"gutter":4,"num":5},"large":{"gutter":4,"num":4},"medium":{"gutter":4,"num":3},"hero":{"gutter":4,"num":2},"small":{"gutter":4,"num":1},"extraSmall":{"gutter":4,"num":1},"default":{"gutter":4,"num":1}},"fonts":{"primary":"SourceSansPro, Arial, sans-serif"},"gallery":{"pagination":{"loadMore":{"buttonStyle":"rectangle","colors":{"background":"#000000","border":"#000000","text":"#FFFFFF"}}}},"header":{"ctaPosition":"center","galleryLinkCta":{"buttonStyle":"rectangle","colors":{"background":"#000000","border":"#000000","text":"#FFFFFF"}},"subtitle":{"color":"#666","fontSize":16},"title":{"color":"#1A1A1A","fontSize":24},"uploaderCta":{"buttonStyle":"rectangle","colors":{"background":"#000000","border":"#000000","text":"#FFFFFF"}}},"modal":{"icon":{"color":"#000000"},"text":{"color":"#1A1A1A"}},"hover":{"cta":{"buttonStyle":"rectangle","colors":{"background":"TRANSPARENT","border":"#FFFFFF","text":"#FFFFFF"}},"overlay":{"background":"#000000"},"text":{"color":"#FFFFFF"}},"carousel":{"navigation":{"colors":{"background":"#FFFFFF","border":"#000000","icon":"#000000"},"iconStyle":"transparent"}}}},"modal":{"type":"popout","social":{"showCaption":false,"showLikeCount":false,"showTimestamp":false,"showUser":true,"showShareIcons":true},"ecommerce":{"showPrice":true,"productDisplayStyle":"scroll","productTags":{"showProductTags":true}},"showReportMedia":true,"hero":{"isSquare":true}},"localizationStrings":{"en-us":{"header":{"title":"#BathandBodyWorks","subtitle":"Show us how you make your world a brighter place with fragrance. Share on social using #bathandbodyworks and tag @bathandbodyworks to be featured here!","uploaderCta":"UPLOAD","galleryLinkCta":"","galleryLinkUrl":""},"modal":{"ecommerce":{"title":"Get this look","cta":""}},"hover":{"cta":"SHOP NOW"},"uploader":{"userStage":{"userForm":{"fields":{"termsAndConditions":{"linkUrl":"https://www.bathandbodyworks.com/m/terms-conditions.html"}}}}},"gallery":{"pagination":{"loadMoreCta":"Load More"}}}},"filters":{"preset":{},"permalink":{}},"header":{"showGalleryLink":false,"showHeader":true,"showSubtitle":true,"showTitle":true,"showUploaderCta":true},"clientApiToken":"7781f58d44bc417380fef647e18cded2","carousel":{"main":{"hover":{"showCta":true,"showLikes":true,"showPlusIcon":false,"showUser":true},"navPosition":"inlineOutside","thumbnail":{"image":{"isSquare":true},"showVideoIcon":false}}},"uploader":{"isEnabled":true,"reelId":"JGz8eNEs","formFields":{"emailOptIn":{}}},"reportMedia":{"isEnabled":true,"reelId":"JGz8eNEs"}}
});
window.crl8.EventBus.dispatchEvent('registerContainerMapper', function(containerId) {
    var experienceName = containerId;
    switch(containerId) {
        case 'product':
            experienceName = 'carousel';
            break;
        case 'homepage':
            experienceName = 'carousel';
            break;
        case 'category':
            experienceName = 'carousel';
            break;
        case 'gallery-da3XdjoG':
            experienceName = 'carousel';
            break;
    }
    return Promise.resolve(experienceName);
});
window.crl8.EventBus.dispatchEvent('initializeCuralatePixel', { pixelId: 123130, useDebug: false, cookieConsent: false });
window.crl8.EventBus.dispatchEvent('siteReady', { name: 'bbw-iuff0y' });
}